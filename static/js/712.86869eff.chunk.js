"use strict";(self.webpackChunkkapusta=self.webpackChunkkapusta||[]).push([[712],{3811:function(e,t,a){a.d(t,{y:function(){return R}});var n=a(29439),s=a(72791),r=a(59434),i=a(9085),o=a(24805),c=a(57689),l=a(42295),d={modal:"BalanceModal_modal__C0hkc",part:"BalanceModal_part__Mp8tJ",text:"BalanceModal_text__nR0Ka",secondText:"BalanceModal_secondText__a3wM0"},u=a(80184),_=function(){return(0,u.jsxs)("div",{className:d.modalWindow,children:[(0,u.jsxs)("div",{className:d.modal,children:[(0,u.jsx)("p",{className:d.text,children:"Hello! To get started, enter the current balance of your account!"}),(0,u.jsx)("p",{className:d.secondText,children:"You can't spend money until you have it :)"})]}),(0,u.jsx)("div",{className:d.part})]})},p=a(33168),m=a(4187),h=a(87261),x="Balance_balance__41oSS",g="Balance_label__9QrSJ",f="Balance_title__2Bv5K",j="Balance_titleMobile__OsNQZ",b="Balance_money__1igFa",v="Balance_moneyMobile__ovTL5",y="Balance_info__eIFcS",N="Balance_input__5zeug",C="Balance_inputMobile__fSkb3",k="Balance_button__UsoOP",T="Balance_labelMobile__f4IoX",M="Balance_buttonActive__g5Mhi Balance_button__UsoOP",B="Balance_buttonNone__2BvoG",F=a(67473),S=a.p+"static/media/coins-drop.e4b7233ee3a35134f15a.mp3",R=function(){var e=(0,r.v9)(F.s),t=(0,r.v9)(m.iP),a=(0,r.v9)(h.Jz),d=(0,r.v9)(h.yS),R=(0,r.I0)(),w=(0,p.$)().t,P=(0,c.TH)(),Z=(0,s.useState)(0),H=(0,n.Z)(Z,2),O=H[0],$=H[1],D=(0,o.useMediaQuery)({query:"(max-width: 1280px)"}),L=(0,o.useMediaQuery)({query:"(max-width: 767.9px)"}),A=new Audio(S);return(0,u.jsx)(u.Fragment,{children:(0,u.jsxs)("form",{className:x,onSubmit:function(e){if(e.preventDefault(),A.play(),""!==O)return R((0,l.o)({newBalance:O}));i.Am.error(w("balance.inputInfo"),{autoClose:2e3,theme:"colored"})},children:[(0,u.jsxs)("h3",{className:L&&"/reports"===P.pathname?j:f,children:[w("balance.balanceTitle"),":"]}),(0,u.jsxs)("div",{className:y,children:[(0,u.jsxs)("label",{className:L&&"/reports"===P.pathname?T:g,children:[(0,u.jsx)("input",{type:"text",className:L&&"/reports"===P.pathname?C:N,value:0!==e?e.toFixed(2).replace(/(\d)(?=(\d{3})+([^\d]|$))/g,"$1 "):0===a.length&0===d.length?O:0,decimalscale:1,maxLength:9,onChange:function(e){var t=e.target.value;$(t)},disabled:!(0===e&&0===a.length&0===d.length)}),(0,u.jsx)("span",{className:L&&"/reports"===P.pathname?v:b,children:w("balance.currency")}),0===O&&0===e&&t&&0===a.length&0===d.length?(0,u.jsx)(_,{}):!(0,u.jsx)(_,{})]}),(0,u.jsx)("button",{className:D&&"/reports"===P.pathname?B:0===e&&0===a.length&0===d.length?M:k,type:"submit",disabled:!(0===e&&0===a.length&0===d.length),children:w("balance.confirm")})]})]})})}},96981:function(e,t,a){a.r(t),a.d(t,{default:function(){return ne}});var n=a(29439),s=a(72426),r=a.n(s),i=a(72791),o=a(74569),c=a.n(o),l=JSON.parse('{"\u041f\u0440\u043e\u0434\u0443\u043a\u0442\u044b":{"title":"Products","id":"icon-products"},"\u0410\u043b\u043a\u043e\u0433\u043e\u043b\u044c":{"title":"Alcohol","id":"icon-alcohol"},"\u0420\u0430\u0437\u0432\u043b\u0435\u0447\u0435\u043d\u0438\u044f":{"title":"Entertainment","id":"icon-entertainment"},"\u0417\u0434\u043e\u0440\u043e\u0432\u044c\u0435":{"title":"Health","id":"icon-health"},"\u0422\u0440\u0430\u043d\u0441\u043f\u043e\u0440\u0442":{"title":"Transport","id":"icon-transport"},"\u0412\u0441\u0451 \u0434\u043b\u044f \u0434\u043e\u043c\u0430":{"title":"Housing","id":"icon-housing"},"\u0422\u0435\u0445\u043d\u0438\u043a\u0430":{"title":"Technique","id":"icon-technique"},"\u041a\u043e\u043c\u043c\u0443\u043d\u0430\u043b\u043a\u0430 \u0438 \u0441\u0432\u044f\u0437\u044c":{"title":"Communal, communication","id":"icon-communal, communication"},"\u0421\u043f\u043e\u0440\u0442 \u0438 \u0445\u043e\u0431\u0431\u0438":{"title":"Sports, hobbies","id":"icon-sports, hobbies"},"\u041e\u0431\u0440\u0430\u0437\u043e\u0432\u0430\u043d\u0438\u0435":{"title":"Education","id":"icon-education"},"\u041f\u0440\u043e\u0447\u0435\u0435":{"title":"Other","id":"icon-other"}}'),d=a(57689),u=a(3811),_="Paginator_prevBtn__FZhuJ",p="Paginator_nextBtn__uk3BU",m="Paginator_pagination__nrZd8",h="Paginator_titleType__oQ9V4 Paginator_title__dN9GP",x=a(80184),g=function(e){var t=e.clickPrev,a=e.clickNext,n=e.descr,s=e.disableNext,r=void 0!==s&&s;return(0,x.jsxs)("div",{className:m,children:[(0,x.jsx)("button",{"aria-label":"Previous",className:_,onClick:t}),(0,x.jsx)("p",{className:h,children:n}),(0,x.jsx)("button",{"aria-label":"Next",className:p,disabled:r,onClick:a})]})},f="ReportsHeader_block__lHhNt",j="ReportsHeader_reportsSection__4gCF4",b="ReportsHeader_wrapper__mJ8Cx",v="ReportsHeader_blockMonth__ihceL",y="ReportsHeader_btnPrevPage__wYiTl",N="ReportsHeader_mainPage__JvmnA",C="ReportsHeader_currentPeriod__+OuEo",k=a(33168),T=function(e){var t=e.month,a=e.setMonth,n=e.setCategory,s=(0,d.s0)(),i=(0,k.$)().t,o=i("monthsPag",{returnObjects:!0}),c=function(){var e=o["".concat(r()().add(t,"month").format("MMMM"))],s=r()().add(t,"month").format("YYYY");return(0,x.jsx)(g,{clickPrev:function(){a((function(e){return e-1})),n("")},clickNext:function(){a((function(e){return e+1})),n("")},descr:"".concat(e," ").concat(s),disableNext:0===t})};return(0,x.jsxs)("div",{className:f,children:[(0,x.jsxs)("div",{className:b,children:[(0,x.jsx)("button",{className:y,onClick:function(e){return s(-1)}}),(0,x.jsx)("p",{className:N,children:i("nav.mainPage")})]}),(0,x.jsxs)("div",{className:j,children:[(0,x.jsx)(u.y,{}),(0,x.jsxs)("div",{className:v,children:[(0,x.jsx)("p",{className:C,children:i("reports.period")}),(0,x.jsx)(c,{})]})]})]})},M="ReportsTotal_block__W-2jt",B="ReportsTotal_expenses__d0mGe",F="ReportsTotal_income__zOmyK",S="ReportsTotal_list__Zq8Np",R="ReportsTotal_item__w+0vA",w="ReportsTotal_totale__5sMyt",P="ReportsTotal_totali__IacTn",Z="ReportsTotal_div__r2TWs",H="ReportsTotal_incomeTotal__l26TU",O="ReportsTotal_expensesTotal__M3Dsi",$=function(e){var t=e.userExpenses,a=e.userIncome,n=(0,k.$)().t;return(0,x.jsx)(x.Fragment,{children:(0,x.jsx)("div",{className:M,children:(0,x.jsxs)("ul",{className:S,children:[(0,x.jsxs)("li",{className:R,children:[(0,x.jsx)("p",{className:B,children:n("reports.expenses")}),(0,x.jsx)("div",{className:w,children:(0,x.jsxs)("p",{className:O,children:["-"," ",t.expenseTotal.toFixed(2).replace(/(\d)(?=(\d{3})+([^\d]|$))/g,"$1 "),"\xa0 ",n("general.currencyName")]})})]}),(0,x.jsx)("li",{children:(0,x.jsx)("div",{className:Z})}),(0,x.jsxs)("li",{className:R,children:[(0,x.jsx)("p",{className:F,children:n("reports.income")}),(0,x.jsx)("div",{className:P,children:(0,x.jsxs)("p",{className:H,children:["+"," ",a.incomeTotal.toFixed(2).replace(/(\d)(?=(\d{3})+([^\d]|$))/g,"$1 "),"\xa0 ",n("general.currencyName")]})})]})]})})})},D=a(53401),L="CategoriesList_list__IObOo",A="CategoriesList_noInfo__MrQN-",I="CategoriesList_item__nCeDw",Q="CategoriesList_total__Wr3FH",q="CategoriesList_title__qGrj4",Y="CategoriesList_image__h0G5D",z="CategoriesList_imageActive__1mmPk CategoriesList_image__h0G5D",E=function(e){var t=e.type,a=e.category,n=e.onCategoryChange,s=e.transactions,r=Object.entries(s),i=(0,k.$)().t,o=i("expenseReport",{returnObjects:!0}),c=i("incomeReport",{returnObjects:!0});return(0,x.jsxs)(x.Fragment,{children:[0===r.length&&(0,x.jsx)("p",{className:A,children:i("categories.noInfo")}),0!==r.length&&(0,x.jsx)("ul",{className:L,children:r.map((function(e,r){return(0,x.jsxs)("li",{className:I,children:[(0,x.jsx)("p",{className:Q,children:e[1].total.toFixed(2).replace(/(\d)(?=(\d{3})+([^\d]|$))/g,"$1 ")}),(0,x.jsx)("svg",{"aria-label":"expenses"===t?o[e[0]].title:[e[0]],className:e[0]===a?z:Y,width:"56",height:"56",onClick:function(t){return n(e[0],s)},children:(0,x.jsx)("use",{href:"expenses"===t?"".concat(D.Z,"#").concat(o[e[0]].id):"".concat(D.Z,"#icon-").concat(e[0])})}),(0,x.jsx)("p",{className:q,children:"expenses"===t?o[e[0]].title:c[e[0]]})]},r)}))})]})},J="ReportsCategories_block__He18t",G=function(e){var t=e.userExpenses,a=e.userIncome,n=e.category,s=e.onCategoryChange,r=e.type,i=e.setType,o=e.setCategory,c=(0,(0,k.$)().t)("pagination",{returnObjects:!0}),l=function(){var e=function(){if("expenses"===r)return i("income"),void o("");i("expenses"),o("")};return(0,x.jsx)(g,{clickPrev:e,clickNext:e,descr:c[r]})};return(0,x.jsxs)("div",{className:J,children:[(0,x.jsx)(l,{}),(0,x.jsx)(E,{transactions:"expenses"===r?t.expensesData:a.incomesData,category:n,type:r,onCategoryChange:s})]})},W=a(56305),U=a(69683),K=a(24805),V="Diagram_diagram__cuZlO";W.kL.register(W.uw,W.f$,W.ZL,W.u);var X=function(e){var t=e.keysDiagram,a=e.valuesDiagram,n=e.category,s=(0,K.useMediaQuery)({query:"(max-width: 767px)"}),r=(0,K.useMediaQuery)({query:"(min-width: 768px)"}),i=(0,K.useMediaQuery)({query:"(max-width: 1280px)"}),o=(0,K.useMediaQuery)({query:"(min-width: 1280px)"}),c={labels:t,datasets:[{label:n,data:a,backgroundColor:"#FF751D",barThickness:38,borderRadius:10}]},l={labels:t,datasets:[{label:n,data:a,backgroundColor:"#FF751D",barThickness:15,borderRadius:10}]};return(0,x.jsxs)("div",{className:V,children:[!s&&(0,x.jsx)(U.$Q,{options:{indexAxis:"x",maintainAspectRatio:!1,responsive:!0,scales:{x:{stacked:!0,grid:{color:"transparent",borderColor:"#F5F6FB",tickColor:"transparent"},ticks:{padding:5,color:"#52555f",font:{weight:400,size:12,letterSpacing:"0.02em",lineHeight:1.17}}},y:{grid:{color:"#F5F6FB",borderColor:"#F5F6FB"},ticks:{padding:5,color:"#52555f",font:{weight:400,size:10,letterSpacing:"0.02em",lineHeight:1.17},count:9}}}},data:c,width:r&&i?604:o?758:"none",height:385}),s&&(0,x.jsx)(U.$Q,{options:{maintainAspectRatio:!1,indexAxis:"y",responsive:!0,scales:{x:{grid:{color:"transparent",borderColor:"transparent",tickColor:"transparent"},ticks:{padding:5,color:"#52555f",font:{weight:400,size:8,letterSpacing:"0.02em",lineHeight:1.2}}},y:{grid:{color:"transparent",borderColor:"transparent",tickColor:"transparent"},ticks:{color:"#52555f",padding:5,font:{weight:400,size:10,letterSpacing:"0.02em",lineHeight:1.2},count:9}}}},data:l,width:280})]})},ee=a(30536),te=a(4187),ae=a(59434),ne=function(){var e=(0,ae.v9)(te.iP),t=(0,i.useState)(0),a=(0,n.Z)(t,2),s=a[0],o=a[1],d=(0,i.useState)("expenses"),u=(0,n.Z)(d,2),_=u[0],p=u[1],m=(0,i.useState)(""),h=(0,n.Z)(m,2),g=h[0],f=h[1],j=(0,i.useState)(null),b=(0,n.Z)(j,2),v=b[0],y=b[1],N=(0,i.useState)(null),C=(0,n.Z)(N,2),k=C[0],M=C[1],B=(0,i.useState)(null),F=(0,n.Z)(B,2),S=F[0],R=F[1],w=(0,i.useState)(null),P=(0,n.Z)(w,2),Z=P[0],H=P[1],O=(0,i.useState)(!1),D=(0,n.Z)(O,2),L=D[0],A=D[1],I=(0,i.useState)(""),Q=(0,n.Z)(I,2),q=Q[0],Y=Q[1];(0,i.useEffect)((function(){var t,a=r()().add(s,"month").format("YYYY-MM");e&&(Y(""),A(!0),(t=a,c().get("/transaction/period-data?date=".concat(t)).then((function(e){return e.data}))).then((function(e){y(e.expenses),M(e.incomes)})).catch((function(e){Y(e.message),y(null),M(null)})).finally((function(){return A(!1)})))}),[s,e]);return(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)(T,{setMonth:o,month:s,setCategory:f}),v&&k&&""===q&&(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)($,{userExpenses:v,userIncome:k}),(0,x.jsx)(G,{category:g,setCategory:f,userExpenses:v,userIncome:k,onCategoryChange:function(e,t){f(e);var a=Object.keys(t[e]);a.splice(0,1);var n=Object.values(t[e]);n.splice(0,1),R(a),H(n)},type:_,setType:p})]}),g&&S&&Z&&""===q&&(0,x.jsx)(X,{keysDiagram:S,valuesDiagram:Z,category:"expenses"===_?l[g].title:g}),L&&(0,x.jsx)(ee.Z,{}),q&&(0,x.jsx)("p",{style:{textAlign:"center",fontSize:"14px",fontWeight:"600",marginTop:"40px"},children:q})]})}},67473:function(e,t,a){a.d(t,{s:function(){return n}});var n=function(e){return e.balance.balance}},87261:function(e,t,a){a.d(t,{Jz:function(){return s},hg:function(){return n},yS:function(){return r}});var n=function(e){return e.transactions.loading},s=function(e){return e.transactions.expenses},r=function(e){return e.transactions.incomes}}}]);
//# sourceMappingURL=712.86869eff.chunk.js.map